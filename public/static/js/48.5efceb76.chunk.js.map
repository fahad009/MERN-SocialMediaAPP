{"version":3,"sources":["views/base/AddSeason.js"],"names":["db","firebase","firestore","collection","BasicForms","props","onNameChange","input","currentTarget","setState","name","value","handleSubmit","e","preventDefault","isLoading","state","location","storyID","seasonIndex","doc","add","index","then","docRef","showNotification","NOTIFICATION","SUCCESS","backToList","catch","error","ERROR","history","push","pathname","undefined","this","className","color","style","width","height","xs","md","onSubmit","row","id","type","placeholder","onChange","required","size","onClick","Component"],"mappings":"8QAkBMA,EAAKC,IAASC,YAAYC,WAAW,eAErCC,E,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAQVC,aAAe,YAA6B,IAAZC,EAAW,EAA1BC,cACb,EAAKC,SAAS,CAACC,KAAMH,EAAMI,SAVZ,EAanBC,aAAe,SAAAC,GACXA,EAAEC,iBACF,EAAKL,SAAS,CAAEM,WAAW,IAFX,IAIRL,EAAS,EAAKM,MAAdN,KAJQ,EAKiB,EAAKL,MAAMY,SAASD,MAA7CE,EALQ,EAKRA,QAASC,EALD,EAKCA,YAEjBnB,EAAGoB,IAAIF,GAASf,WAAW,WAAWkB,IAAI,CACtCX,KAAMA,EACNY,MAAOH,EAAY,IAElBI,MAAK,SAACC,GACHC,YAAiBC,IAAaC,QAAS,8BACvC,EAAKC,gBAERC,OAAM,SAACC,GACJL,YAAiBC,IAAaK,MAAO,oCACrC,EAAKtB,SAAS,CAAEM,WAAW,QA9BpB,EAkCnBa,WAAa,WACT,EAAKvB,MAAM2B,QAAQC,KAAK,CACpBC,SAAU,WACVlB,MAAO,EAAKX,MAAMY,SAASD,cAnCFmB,IAAzB9B,EAAMY,SAASD,MACf,EAAKY,aAEL,EAAKZ,MAAQ,CAAED,WAAW,EAAOL,KAAM,IAL5B,E,0CAyCnB,WACI,OACI,mCAEQ0B,KAAKpB,MAAMD,UACP,qBAAKsB,UAAU,cAAf,SACI,cAAC,KAAD,CACIA,UAAU,OACVC,MAAM,UACNC,MAAO,CAACC,MAAO,OAAQC,OAAQ,YAIvC,cAAC,KAAD,CAAMJ,UAAU,gCAAhB,SACI,cAAC,IAAD,CAAMK,GAAG,KAAKC,GAAG,IAAjB,SACI,eAAC,IAAD,WACI,cAAC,IAAD,UACI,kDAEJ,cAAC,IAAD,UACI,eAAC,IAAD,CAAOC,SAAUR,KAAKxB,aAAcyB,UAAU,kBAA9C,UACI,cAAC,IAAD,CAAYQ,KAAG,EAACR,UAAW,gCAA3B,SACI,cAAC,IAAD,CAAMK,GAAG,KAAKC,GAAG,IAAjB,SACI,cAAC,IAAD,CAAQG,GAAG,OAAOpC,KAAK,OAAOqC,KAAK,OAAOC,YAAa,OAAQC,SAAUb,KAAK9B,aAAc4C,UAAQ,QAI5G,sBAAKb,UAAU,mBAAf,UACI,eAAC,IAAD,CAASU,KAAK,SAASI,KAAK,KAAKb,MAAM,UAAUD,UAAU,YAA3D,UAAuE,cAAC,IAAD,CACnE3B,KAAK,iBADT,WAEA,eAAC,IAAD,CAASqC,KAAK,SAASK,QAAShB,KAAKR,WAAYuB,KAAK,KAAKb,MAAM,SACxDD,UAAU,OADnB,UAC0B,cAAC,IAAD,CAAO3B,KAAK,YADtC,kC,GAxEvB2C,aAyFVjD","file":"static/js/48.5efceb76.chunk.js","sourcesContent":["import React, {Component, Fragment} from 'react'\nimport {\n    CButton,\n    CCard,\n    CCardBody,\n    CCardHeader,\n    CCol,\n    CForm,\n    CFormGroup,\n    CInput,\n    CLabel,\n    CRow, CSpinner,\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport firebase from \"firebase\";\nimport {NOTIFICATION, showNotification} from \"../../reusable/Utility\";\n\nconst directory = '_dev';\nconst db = firebase.firestore().collection(\"stories_dev\");\n\nclass BasicForms extends Component {\n    constructor(props) {\n        super(props);\n        if (props.location.state === undefined) {\n            this.backToList();\n        } else {\n            this.state = { isLoading: false, name: '' };\n        }\n    }\n\n    onNameChange = ({currentTarget: input}) => {\n        this.setState({name: input.value});\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n        this.setState({ isLoading: true });\n\n        const { name } = this.state;\n        const { storyID, seasonIndex } = this.props.location.state;\n\n        db.doc(storyID).collection('seasons').add({\n            name: name,\n            index: seasonIndex+1\n        })\n            .then((docRef) => {\n                showNotification(NOTIFICATION.SUCCESS, 'Season added successfully!');\n                this.backToList();\n            })\n            .catch((error) => {\n                showNotification(NOTIFICATION.ERROR, 'Something went wrong. Try again!');\n                this.setState({ isLoading: false });\n            });\n    }\n\n    backToList = () => {\n        this.props.history.push({\n            pathname: '/Stories',\n            state: this.props.location.state\n        });\n    };\n\n    render() {\n        return (\n            <>\n                {\n                    this.state.isLoading ? (\n                        <div className=\"text-center\">\n                            <CSpinner\n                                className=\"mt-5\"\n                                color=\"primary\"\n                                style={{width: '4rem', height: '4rem'}}\n                            />\n                        </div>\n                    ) : (\n                        <CRow className='d-flex justify-content-center'>\n                            <CCol xs=\"12\" md=\"6\">\n                                <CCard>\n                                    <CCardHeader>\n                                        <h2>Add New Season</h2>\n                                    </CCardHeader>\n                                    <CCardBody>\n                                        <CForm onSubmit={this.handleSubmit} className=\"form-horizontal\">\n                                            <CFormGroup row className={'d-flex justify-content-center'}>\n                                                <CCol xs=\"12\" md=\"6\">\n                                                    <CInput id=\"name\" name=\"name\" type=\"text\" placeholder={'Name'} onChange={this.onNameChange} required/>\n                                                </CCol>\n                                            </CFormGroup>\n\n                                            <div className=\"text-center mt-5\">\n                                                <CButton type=\"submit\" size=\"sm\" color=\"primary\" className=\"mr-1 px-3\"><CIcon\n                                                    name=\"cil-scrubber\"/> Save</CButton>\n                                                <CButton type=\"button\" onClick={this.backToList} size=\"sm\" color=\"danger\"\n                                                         className=\"px-3\"><CIcon name=\"cil-ban\"/> Cancel</CButton>\n                                            </div>\n                                        </CForm>\n                                    </CCardBody>\n                                </CCard>\n                            </CCol>\n\n\n                        </CRow>\n                    )\n                }\n            </>\n        )\n    }\n}\n\nexport default BasicForms\n"],"sourceRoot":""}