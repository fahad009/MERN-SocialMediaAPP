(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[48],{686:function(e,t,s){"use strict";s.r(t);var a=s(182),n=s(183),c=s(185),i=s(184),r=s(1),o=s(179),l=s(58),d=s(726),j=s(128),m=s(27),b=d.a.firestore().collection("stories_dev"),h=function(e){Object(c.a)(s,e);var t=Object(i.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).onNameChange=function(e){var t=e.currentTarget;n.setState({name:t.value})},n.handleSubmit=function(e){e.preventDefault(),n.setState({isLoading:!0});var t=n.state.name,s=n.props.location.state,a=s.storyID,c=s.seasonIndex;b.doc(a).collection("seasons").add({name:t,index:c+1}).then((function(e){Object(j.d)(j.a.SUCCESS,"Season added successfully!"),n.backToList()})).catch((function(e){Object(j.d)(j.a.ERROR,"Something went wrong. Try again!"),n.setState({isLoading:!1})}))},n.backToList=function(){n.props.history.push({pathname:"/Stories",state:n.props.location.state})},void 0===e.location.state?n.backToList():n.state={isLoading:!1,name:""},n}return Object(n.a)(s,[{key:"render",value:function(){return Object(m.jsx)(m.Fragment,{children:this.state.isLoading?Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(o.Ab,{className:"mt-5",color:"primary",style:{width:"4rem",height:"4rem"}})}):Object(m.jsx)(o.rb,{className:"d-flex justify-content-center",children:Object(m.jsx)(o.u,{xs:"12",md:"6",children:Object(m.jsxs)(o.j,{children:[Object(m.jsx)(o.n,{children:Object(m.jsx)("h2",{children:"Add New Season"})}),Object(m.jsx)(o.k,{children:Object(m.jsxs)(o.J,{onSubmit:this.handleSubmit,className:"form-horizontal",children:[Object(m.jsx)(o.K,{row:!0,className:"d-flex justify-content-center",children:Object(m.jsx)(o.u,{xs:"12",md:"6",children:Object(m.jsx)(o.P,{id:"name",name:"name",type:"text",placeholder:"Name",onChange:this.onNameChange,required:!0})})}),Object(m.jsxs)("div",{className:"text-center mt-5",children:[Object(m.jsxs)(o.f,{type:"submit",size:"sm",color:"primary",className:"mr-1 px-3",children:[Object(m.jsx)(l.b,{name:"cil-scrubber"})," Save"]}),Object(m.jsxs)(o.f,{type:"button",onClick:this.backToList,size:"sm",color:"danger",className:"px-3",children:[Object(m.jsx)(l.b,{name:"cil-ban"})," Cancel"]})]})]})})]})})})})}}]),s}(r.Component);t.default=h}}]);
//# sourceMappingURL=48.5efceb76.chunk.js.map