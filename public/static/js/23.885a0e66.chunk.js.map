{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","views/base/AddStory.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","db","firebase","firestore","collection","BasicForms","props","onNameChange","input","currentTarget","setState","name","onImageChange","event","file","target","files","endsWith","getImagePreview","then","preview","showNotification","NOTIFICATION","WARNING","onAvatarsChange","a","push","avatars","onFileChange","onCategoryChange","checked","id","categories","state","index","findIndex","category","holder","handleSubmit","preventDefault","cover","defaultIcon","explorePageIcon","recommendedTitleIcon","avatarStyles","trim","promises","categoryIDs","forEach","isLoading","add","views","reviews","likes","description","createdAt","Date","now","docRef","SUCCESS","INFO","path","uploadFile","avatar","Promise","all","r","backToList","catch","doc","delete","ERROR","toString","error","image","resolve","reject","reader","FileReader","readAsDataURL","onloadend","result","bind","this","console","log","history","pathname","location","directory","filename","uploadTask","storage","ref","put","on","TaskEvent","STATE_CHANGED","code","serverResponse","snapshot","getDownloadURL","downloadURL","className","color","style","width","height","xs","onSubmit","md","row","onChange","placeholder","maxLength","required","accept","htmlFor","variant","multiple","map","type","custom","minHeight","src","content","freeSet","cilFile","size","onClick","Component"],"mappings":"sNAAA,+CACe,SAASA,EAA2BC,EAAGC,GACpD,IAAIC,EAEJ,GAAsB,qBAAXC,QAAgD,MAAtBH,EAAEG,OAAOC,UAAmB,CAC/D,GAAIC,MAAMC,QAAQN,KAAOE,EAAK,YAA2BF,KAAOC,GAAkBD,GAAyB,kBAAbA,EAAEO,OAAqB,CAC/GL,IAAIF,EAAIE,GACZ,IAAIM,EAAI,EAEJC,EAAI,aAER,MAAO,CACLC,EAAGD,EACHE,EAAG,WACD,OAAIH,GAAKR,EAAEO,OAAe,CACxBK,MAAM,GAED,CACLA,MAAM,EACNC,MAAOb,EAAEQ,OAGbM,EAAG,SAAWC,GACZ,MAAMA,GAERC,EAAGP,GAIP,MAAM,IAAIQ,UAAU,yIAGtB,IAEIC,EAFAC,GAAmB,EACnBC,GAAS,EAEb,MAAO,CACLV,EAAG,WACDR,EAAKF,EAAEG,OAAOC,aAEhBO,EAAG,WACD,IAAIU,EAAOnB,EAAGoB,OAEd,OADAH,EAAmBE,EAAKT,KACjBS,GAETP,EAAG,SAAWS,GACZH,GAAS,EACTF,EAAMK,GAERP,EAAG,WACD,IACOG,GAAoC,MAAhBjB,EAAW,QAAWA,EAAW,SAC1D,QACA,GAAIkB,EAAQ,MAAMF,O,+MCrBpBM,EAAKC,IAASC,YAAYC,WAAW,eAGrCC,E,kDACF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IA6CVC,aAAe,YAA6B,IAAZC,EAAW,EAA1BC,cACb,EAAKC,SAAS,CAACC,KAAMH,EAAMlB,SA/CZ,EAiDnBsB,cAAgB,SAAAC,GACZ,IAAIC,EAAOD,EAAME,OAAOC,MAAM,GAC1BF,IACIA,EAAKH,KAAKM,SAAS,QACnB,EAAKC,gBAAgBJ,GAAMK,MAAK,SAAAC,GAC5B,EAAKV,SAAL,eAAgBG,EAAME,OAAOJ,KAAO,CAACG,KAAMA,EAAMM,QAASA,QAG9DC,YAAiBC,IAAaC,QAAS,0BAA2B,OAzD3D,EA6DnBC,gBA7DmB,uCA6DD,WAAMX,GAAN,uBAAAY,EAAA,sDACVT,EAAQ,GADE,cAEKH,EAAME,OAAOC,OAFlB,8DAEHF,EAFG,SAGDH,KAAKM,SAAS,QAHb,iCAIc,EAAKC,gBAAgBJ,GAJnC,OAIFM,EAJE,OAKNJ,EAAMU,KAAK,CACPZ,KAAMA,EACNM,QAASA,IAPP,wBAUNC,YAAiBC,IAAaC,QAAS,0BAA2B,KAV5D,+IAaVP,EAAMhC,OAAS,GAAG,EAAK0B,SAAS,CAACiB,QAASX,IAbhC,gEA7DC,wDA4EnBY,aAAe,SAAAf,GACX,IAAIC,EAAOD,EAAME,OAAOC,MAAM,GAC1BF,EAAKH,KAAKM,SAAS,QACnB,EAAKP,SAAL,eAAgBG,EAAME,OAAOJ,KAAO,CAACG,KAAMA,KAE3CO,YAAiBC,IAAaC,QAAS,0BAA2B,MAjFvD,EAoFnBM,iBAAmB,SAAAhB,GAAU,IAAD,EACJA,EAAME,OAArBe,EADmB,EACnBA,QAASC,EADU,EACVA,GACTC,EAAc,EAAKC,MAAnBD,WAECE,EAAQF,EAAWG,WAAU,SAAAC,GAAQ,OAAIA,EAASL,KAAOA,KAC3DM,EAAM,YAAOL,GACjBK,EAAOH,GAAOJ,QAAUA,EACxB,EAAKpB,SAAS,CAACsB,WAAW,YAAKK,MA3FhB,EA8FnBC,aAAe,SAAA/C,GACXA,EAAEgD,iBADc,MAYZ,EAAKN,MARLtB,EAJY,EAIZA,KACAqB,EALY,EAKZA,WACAQ,EANY,EAMZA,MACAC,EAPY,EAOZA,YACAC,EARY,EAQZA,gBACAC,EATY,EASZA,qBACAhB,EAVY,EAUZA,QACAiB,EAXY,EAWZA,aAGJ,GAAoB,KAAhBjC,EAAKkC,OAAT,CAKA,IAAIC,EAAW,GAEXC,EAAc,GAClBf,EAAWgB,SAAQ,SAAAZ,GACXA,EAASN,SAASiB,EAAYrB,KAAKU,EAASL,OAEzB,IAAvBgB,EAAY/D,QAKhB,EAAK0B,SAAS,CAACuC,WAAW,IAG1BhD,EAAGiD,IAAI,CACHvC,KAAMA,EACNwC,MAAO,EACPC,QAAS,EACTC,MAAO,EACPC,YAAa,GACbtB,WAAYe,EACZQ,UAAWC,KAAKC,QACjBtC,MAAK,SAACuC,GACLrC,YAAiBC,IAAaqC,QAAS,4BACvCtC,YAAiBC,IAAasC,KAAM,qBAEpC,IAAIC,EAAI,UAhJF,OAgJE,oBAA2BH,EAAO3B,IAEtCS,EAAM1B,MAAMgC,EAASpB,KAAK,EAAKoC,WAAWD,EAAMrB,EAAM1B,KAAM,cAC5D2B,EAAY3B,MAAMgC,EAASpB,KAAK,EAAKoC,WAAWD,EAAMpB,EAAY3B,KAAM,aACxE4B,EAAgB5B,MAAMgC,EAASpB,KAAK,EAAKoC,WAAWD,EAAMnB,EAAgB5B,KAAM,oBAChF6B,EAAqB7B,MAAMgC,EAASpB,KAAK,EAAKoC,WAAWD,EAAMlB,EAAqB7B,KAAM,kBAC1F8B,EAAa9B,MAAMgC,EAASpB,KAAK,EAAKoC,WAAL,UAAmBD,EAAnB,YAAmCjB,EAAa9B,KAAM,cAE3Fa,EAAQqB,SAAQ,SAAAe,GACZjB,EAASpB,KAAK,EAAKoC,WAAL,UAAmBD,EAAnB,YAAmCE,EAAOjD,UAG5DkD,QAAQC,IAAInB,GAAU3B,MAAK,SAAA+C,GACvB7C,YAAiBC,IAAaqC,QAAS,4BACvC,EAAKQ,gBACNC,OAAM,SAAA7E,GACLU,EAAGoE,IAAIX,EAAO3B,IAAIuC,SAASnD,MAAK,WAE5BE,YAAiBC,IAAaiD,MAAOhF,EAAEiF,YACvC,EAAK9D,SAAS,CAACuC,WAAW,OAC3BmB,OAAM,SAACK,GACNpD,YAAiBC,IAAaiD,MAAOE,EAAMD,YAC3C,EAAK9D,SAAS,CAACuC,WAAW,aAInCmB,OAAM,SAACK,GACNpD,YAAiBC,IAAaiD,MAAO,oCACrC,EAAK7D,SAAS,CAACuC,WAAW,QA/C1B5B,YAAiBC,IAAaiD,MAAO,wCAXrClD,YAAiBC,IAAaC,QAAS,mBAAoB,OA7GhD,EA8MnBL,gBAAkB,SAACwD,GACf,OAAO,IAAIV,SAAQ,SAAUW,EAASC,GAClC,IAAIC,EAAS,IAAIC,WACPD,EAAOE,cAAcL,GAC/BG,EAAOG,UAAY,SAAUzF,GACzBoF,EAAQE,EAAOI,SACjBC,KAAKC,UApNI,EAwNnBhB,WAAa,WACTiB,QAAQC,IAAI,YAIZ,EAAK/E,MAAMgF,QAAQ5D,KAAK,CACpB6D,SAAU,WACVtD,MAAO,EAAK3B,MAAMkF,SAASvD,SA5N/B,EAAKA,MAAQ,CACTgB,WAAW,EACXtC,KAAM,GACNqB,WAAY,CACR,CACID,GAAI,uBACJpB,KAAM,WACNmB,SAAS,GAEb,CACIC,GAAI,uBACJpB,KAAM,UACNmB,SAAS,GAEb,CACIC,GAAI,uBACJpB,KAAM,UACNmB,SAAS,IAGjBU,MAAO,CACH1B,KAAM,KACNM,QAAS,MAEbqB,YAAa,CACT3B,KAAM,KACNM,QAAS,MAEbsB,gBAAiB,CACb5B,KAAM,KACNM,QAAS,MAEbuB,qBAAsB,CAClB7B,KAAM,KACNM,QAAS,MAEbO,QAAS,GACTiB,aAAc,CACV9B,KAAM,OAzCC,E,8CA4KnB,SAAW2E,EAAW3E,GAAwB,IAAlB4E,EAAiB,uDAAN,KACnC,OAAO,IAAI1B,SAAQ,SAAUW,EAASC,GAClCc,EAAWA,GAAsB5E,EAAKH,KACtC,IAEIgF,EAFezF,IAAS0F,UAAUC,IAAIJ,EAAY,IAAMC,GAEhCI,IAAIhF,GAEhC6E,EAAWI,GAAG7F,IAAS0F,QAAQI,UAAUC,cACrC,MACA,SAACxB,GAGG,OAAQA,EAAMyB,MACV,IAAK,uBACDd,QAAQC,IAAI,gBACZ,MACJ,IAAK,mBACDD,QAAQC,IAAI,qBACZ,MACJ,IAAK,kBACDD,QAAQC,IAAIZ,EAAM0B,gBAG1BvB,EAAOH,EAAMyB,SACd,WAECP,EAAWS,SAASP,IAAIQ,iBAAiBlF,MAAK,SAACmF,GAC3C3B,EAAQ2B,c,oBAgC5B,WAAU,IAAD,SASDnB,KAAKlD,MAPLD,EAFC,EAEDA,WACAQ,EAHC,EAGDA,MACAC,EAJC,EAIDA,YACAC,EALC,EAKDA,gBACAC,EANC,EAMDA,qBACAhB,EAPC,EAODA,QACAiB,EARC,EAQDA,aAGJ,OACI,mCAEQuC,KAAKlD,MAAMgB,UACP,qBAAKsD,UAAU,cAAf,SACI,cAAC,KAAD,CACIA,UAAU,OACVC,MAAM,UACNC,MAAO,CAACC,MAAO,OAAQC,OAAQ,YAIvC,cAAC,KAAD,UACI,cAAC,IAAD,CAAMC,GAAG,KAAT,SACI,eAAC,IAAD,WACI,cAAC,IAAD,UACI,iDAEJ,cAAC,IAAD,UACI,eAAC,IAAD,CAAOC,SAAU1B,KAAK7C,aAAciE,UAAU,kBAA9C,UACI,eAAC,KAAD,WACI,eAAC,IAAD,CAAMK,GAAI,KAAME,GAAI,IAApB,UACI,cAAC,IAAD,CAAYC,KAAG,EAACR,UAAW,OAA3B,SACI,cAAC,IAAD,CAAMK,GAAG,KAAT,SACI,cAAC,IAAD,CAAQ7E,GAAG,OAAOpB,KAAK,OAAOqG,SAAU7B,KAAK5E,aAAc0G,YAAa,OAAQC,UAAW,KAAMC,UAAQ,QAGjH,cAAC,IAAD,CAAYJ,KAAG,EAACR,UAAW,OAA3B,SACI,eAAC,IAAD,CAAMK,GAAG,KAAT,UACI,cAAC,IAAD,CAAY7E,GAAG,QAAQpB,KAAK,QAAQqG,SAAU7B,KAAKvE,cACvCwG,OAAO,YAAYD,UAAQ,IACvC,cAAC,IAAD,CAAQE,QAAQ,QAAQC,QAAQ,cAAhC,SACK9E,EAAM1B,KAAO0B,EAAM1B,KAAKH,KAAO,sBAI5C,cAAC,IAAD,CAAYoG,KAAG,EAACR,UAAW,OAA3B,SACI,eAAC,IAAD,CAAMK,GAAG,KAAT,UACI,cAAC,IAAD,CAAY7E,GAAG,cAAcpB,KAAK,cACtBqG,SAAU7B,KAAKvE,cAAewG,OAAO,YACrCD,UAAQ,IACpB,cAAC,IAAD,CAAQE,QAAQ,cAAcC,QAAQ,cAAtC,SACK7E,EAAY3B,KAAO2B,EAAY3B,KAAKH,KAAO,6BAIxD,cAAC,IAAD,CAAYoG,KAAG,EAACR,UAAW,OAA3B,SACI,eAAC,IAAD,CAAMK,GAAG,KAAT,UACI,cAAC,IAAD,CAAY7E,GAAG,kBAAkBpB,KAAK,kBAC1BqG,SAAU7B,KAAKvE,cAAewG,OAAO,YACrCD,UAAQ,IACpB,cAAC,IAAD,CAAQE,QAAQ,kBAAkBC,QAAQ,cAA1C,SACK5E,EAAgB5B,KAAO4B,EAAgB5B,KAAKH,KAAO,kCAIhE,cAAC,IAAD,CAAYoG,KAAG,EAACR,UAAW,OAA3B,SACI,eAAC,IAAD,CAAMK,GAAG,KAAT,UACI,cAAC,IAAD,CAAY7E,GAAG,uBAAuBpB,KAAK,uBAC/BqG,SAAU7B,KAAKvE,cAAewG,OAAO,YACrCD,UAAQ,IACpB,cAAC,IAAD,CAAQE,QAAQ,uBAAuBC,QAAQ,cAA/C,SACK3E,EAAqB7B,KAAO6B,EAAqB7B,KAAKH,KAAO,uCAI1E,cAAC,IAAD,CAAYoG,KAAG,EAACR,UAAW,OAA3B,SACI,eAAC,IAAD,CAAMK,GAAG,KAAT,UACI,cAAC,IAAD,CACI7E,GAAG,UACHpB,KAAK,UACL4G,UAAQ,EACRP,SAAU7B,KAAK3D,gBACf4F,OAAO,YACPD,UAAQ,IAEZ,cAAC,IAAD,CAAQE,QAAQ,UAAUC,QAAQ,cAAlC,SAEQ3F,EAAQ3C,OAAS,EAAuB,IAAnB2C,EAAQ3C,OAAR,UAA0B2C,EAAQ3C,OAAlC,4BAA8D2C,EAAQ3C,OAAtE,mBAAgG,wBAMrI,cAAC,IAAD,CAAY+H,KAAG,EAACR,UAAW,OAA3B,SACI,eAAC,IAAD,CAAMK,GAAG,KAAT,UACI,cAAC,IAAD,CAAY7E,GAAG,eAAepB,KAAK,eACvBqG,SAAU7B,KAAKvD,aAAcwF,OAAO,OAAOD,UAAQ,IAC/D,cAAC,IAAD,CAAQE,QAAQ,eAAeC,QAAQ,cAAvC,SACK1E,EAAa9B,KAAO8B,EAAa9B,KAAKH,KAAO,kCAI1D,cAAC,IAAD,CAAYoG,KAAG,EAACR,UAAW,YAA3B,SACI,eAAC,IAAD,CAAMK,GAAG,KAAKL,UAAW,MAAzB,UACI,4CACA,qBAAKA,UAAW,OAAhB,SAEQvE,EAAWwF,KAAI,SAAApF,GAAQ,OACnB,gCACI,cAAC,IAAD,CAAgBL,GAAIK,EAASL,GAAIpB,KAAK,aACtB8G,KAAK,WACL3F,QAASM,EAASN,QAAS4F,QAAM,EACjCV,SAAU,EAAKnF,mBAC/B,cAAC,IAAD,CAAQwF,QAASjF,EAASL,GAAIuF,QAAQ,kBAAtC,SACKlF,EAASzB,SANRyB,EAASL,iBAe3C,eAAC,IAAD,CAAM6E,GAAI,KAAME,GAAI,IAApB,UACI,cAAC,KAAD,CAAMP,UAAW,YAAjB,SACI,eAAC,IAAD,CAAMK,GAAI,KAAML,UAAW,OAA3B,UACI,oBAAIA,UAAW,YAAf,mBACA,qBAAKA,UAAU,2BAA2BE,MAAO,CAAEkB,UAAW,QAA9D,SAEQnF,EAAMpB,SACN,cAAC,IAAD,CACIwG,IAAKpF,EAAMpB,QACXsF,MAAO,OACPC,OAAQ,YAM5B,cAAC,KAAD,CAAMJ,UAAW,YAAjB,SACI,eAAC,IAAD,CAAMK,GAAI,KAAML,UAAW,OAA3B,UACI,oBAAIA,UAAW,YAAf,0BACA,qBAAKA,UAAU,2BAA2BE,MAAO,CAAEkB,UAAW,QAA9D,SAEQlF,EAAYrB,SACZ,cAAC,IAAD,CACIwG,IAAKnF,EAAYrB,QACjBsF,MAAO,OACPC,OAAQ,YAM5B,cAAC,KAAD,CAAMJ,UAAW,YAAjB,SACI,eAAC,IAAD,CAAMK,GAAI,KAAML,UAAW,OAA3B,UACI,oBAAIA,UAAW,YAAf,+BACA,qBAAKA,UAAU,2BAA2BE,MAAO,CAAEkB,UAAW,QAA9D,SAEQjF,EAAgBtB,SAChB,cAAC,IAAD,CACIwG,IAAKlF,EAAgBtB,QACrBsF,MAAO,OACPC,OAAQ,YAM5B,cAAC,KAAD,CAAMJ,UAAW,YAAjB,SACI,eAAC,IAAD,CAAMK,GAAI,KAAML,UAAW,OAA3B,UACI,oBAAIA,UAAW,YAAf,oCACA,qBAAKA,UAAU,2BAA2BE,MAAO,CAAEkB,UAAW,QAA9D,SAEQhF,EAAqBvB,SACrB,cAAC,IAAD,CACIwG,IAAKjF,EAAqBvB,QAC1BsF,MAAO,OACPC,OAAQ,YAM5B,cAAC,KAAD,CAAMJ,UAAW,YAAjB,SACI,eAAC,IAAD,CAAMK,GAAI,KAAML,UAAW,OAA3B,UACI,oBAAIA,UAAW,YAAf,qBACA,qBAAKA,UAAU,2BAA2BE,MAAO,CAAEkB,UAAW,QAA9D,SAEQhG,EAAQ6F,KAAI,SAAAzD,GAAM,OACd,cAAC,IAAD,CACM6D,IAAK7D,EAAO3C,QACZsF,MAAO,OACPC,OAAQ,GACRJ,UAAU,QAJLxC,EAAO3C,mBAWtC,cAAC,KAAD,CAAMmF,UAAW,YAAjB,SACI,eAAC,IAAD,CAAMK,GAAI,KAAML,UAAW,OAA3B,UACI,oBAAIA,UAAW,YAAf,2BACA,qBAAKA,UAAU,uCAAuCE,MAAO,CAAEkB,UAAW,QAA1E,SAEQ/E,EAAa9B,MACT,gCACI,cAAC,IAAD,CAAO+G,QAASC,IAAQC,QAASC,KAAK,OACtC,mBAAGzB,UAAU,YAAb,iCAShC,sBAAKA,UAAU,mBAAf,UACI,eAAC,IAAD,CAASkB,KAAK,SAASO,KAAK,KAAKxB,MAAM,UAC9BD,UAAU,YADnB,UAC+B,cAAC,IAAD,CAC3B5F,KAAK,iBAFT,WAGA,eAAC,IAAD,CAAS8G,KAAK,SAASQ,QAAS9C,KAAKhB,WAAY6D,KAAK,KAC7CxB,MAAM,SACND,UAAU,OAFnB,UAE0B,cAAC,IAAD,CAAO5F,KAAK,YAFtC,kC,GAxcvBuH,aAwdV7H","file":"static/js/23.885a0e66.chunk.js","sourcesContent":["import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import React, {Component} from 'react'\nimport firebase from 'firebase/app'\nimport 'firebase/storage'\nimport 'firebase/firestore'\nimport {\n    CButton,\n    CCard,\n    CCardBody,\n    CCardFooter,\n    CCardHeader,\n    CCol,\n    CForm,\n    CFormGroup,\n    CFormText,\n    CInput,\n    CInputFile,\n    CLabel,\n    CRow,\n    CTextarea,\n    CInputCheckbox,\n    CImg, CSpinner\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport {showNotification, NOTIFICATION} from \"../../reusable/Utility\";\nimport {freeSet} from \"@coreui/icons\";\n\n\n// const [collapsed, setCollapsed] = React.useState(true)\n// const [showElements, setShowElements] = React.useState(true)\n\nconst directory = '_dev';\nconst db = firebase.firestore().collection(\"stories_dev\");\n\n//const BasicForms = () => {\nclass BasicForms extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isLoading: false,\n            name: '',\n            categories: [\n                {\n                    id: '5QEVhrCEvITIiaBFIE8f',\n                    name: 'Thriller',\n                    checked: false\n                },\n                {\n                    id: 'Xj95jggxg9D4RFGy0mdU',\n                    name: 'Romance',\n                    checked: false\n                },\n                {\n                    id: 'pQ1Qbg8qEwixkWYUh53q',\n                    name: 'Fantasy',\n                    checked: false\n                }\n            ],\n            cover: {\n                file: null,\n                preview: null\n            },\n            defaultIcon: {\n                file: null,\n                preview: null\n            },\n            explorePageIcon: {\n                file: null,\n                preview: null\n            },\n            recommendedTitleIcon: {\n                file: null,\n                preview: null\n            },\n            avatars: [],\n            avatarStyles: {\n                file: null\n            }\n        }\n    }\n\n    onNameChange = ({currentTarget: input}) => {\n        this.setState({name: input.value});\n    };\n    onImageChange = event => {\n        let file = event.target.files[0];\n        if (file) {\n            if (file.name.endsWith('.png')) {\n                this.getImagePreview(file).then(preview => {\n                    this.setState({[event.target.name]: {file: file, preview: preview}});\n                });\n            } else {\n                showNotification(NOTIFICATION.WARNING, 'Only .png files allowed', 1000);\n            }\n        }\n    };\n    onAvatarsChange = async event => {\n        let files = [];\n        for (const file of event.target.files) {\n            if (file.name.endsWith('.png')) {\n                let preview = await this.getImagePreview(file);\n                files.push({\n                    file: file,\n                    preview: preview\n                });\n            } else {\n                showNotification(NOTIFICATION.WARNING, 'Only .png files allowed', 1000);\n            }\n        }\n        if (files.length > 0) this.setState({avatars: files});\n    };\n    onFileChange = event => {\n        let file = event.target.files[0];\n        if (file.name.endsWith('.txt')) {\n            this.setState({[event.target.name]: {file: file}});\n        } else {\n            showNotification(NOTIFICATION.WARNING, 'Only .txt files allowed', 1000);\n        }\n    };\n    onCategoryChange = event => {\n        let {checked, id} = event.target;\n        let {categories} = this.state;\n\n        const index = categories.findIndex(category => category.id === id);\n        let holder = [...categories];\n        holder[index].checked = checked;\n        this.setState({categories: [...holder]});\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        const {\n            name,\n            categories,\n            cover,\n            defaultIcon,\n            explorePageIcon,\n            recommendedTitleIcon,\n            avatars,\n            avatarStyles\n        } = this.state;\n\n        if (name.trim() === '') {\n            showNotification(NOTIFICATION.WARNING, 'Name is required', 1500);\n            return;\n        }\n\n        let promises = [];\n\n        let categoryIDs = [];\n        categories.forEach(category => {\n            if (category.checked) categoryIDs.push(category.id);\n        })\n        if (categoryIDs.length === 0) {\n            showNotification(NOTIFICATION.ERROR, 'At least 1 category is required');\n            return;\n        }\n\n        this.setState({isLoading: true});\n\n        // Add a new document with a generated id.\n        db.add({\n            name: name,\n            views: 0,\n            reviews: 0,\n            likes: 0,\n            description: '',\n            categories: categoryIDs,\n            createdAt: Date.now()\n        }).then((docRef) => {\n            showNotification(NOTIFICATION.SUCCESS, 'Data added successfully!');\n            showNotification(NOTIFICATION.INFO, 'Uploading files..');\n\n            let path = `${directory}/stories/${docRef.id}`;\n\n            if (cover.file) promises.push(this.uploadFile(path, cover.file, 'cover.png'));\n            if (defaultIcon.file) promises.push(this.uploadFile(path, defaultIcon.file, 'icon.png'));\n            if (explorePageIcon.file) promises.push(this.uploadFile(path, explorePageIcon.file, 'rect2x_icon.png'));\n            if (recommendedTitleIcon.file) promises.push(this.uploadFile(path, recommendedTitleIcon.file, 'rect_icon.png'));\n            if (avatarStyles.file) promises.push(this.uploadFile(`${path}/Avatars`, avatarStyles.file, 'style.txt'));\n\n            avatars.forEach(avatar => {\n                promises.push(this.uploadFile(`${path}/Avatars`, avatar.file));\n            });\n\n            Promise.all(promises).then(r => {\n                showNotification(NOTIFICATION.SUCCESS, 'Book added successfully!');\n                this.backToList();\n            }).catch(e => {\n                db.doc(docRef.id).delete().then(() => {\n                    // showNotification(NOTIFICATION.ERROR, 'Something went wrong. Try again!');\n                    showNotification(NOTIFICATION.ERROR, e.toString());\n                    this.setState({isLoading: false});\n                }).catch((error) => {\n                    showNotification(NOTIFICATION.ERROR, error.toString());\n                    this.setState({isLoading: false});\n                });\n            });\n\n        }).catch((error) => {\n            showNotification(NOTIFICATION.ERROR, 'Something went wrong. Try again!');\n            this.setState({isLoading: false});\n        });\n    };\n\n    //Handle waiting to upload each file using promise\n    uploadFile(directory, file, filename = null) {\n        return new Promise(function (resolve, reject) {\n            filename = filename ? filename : file.name ;\n            const storageRef = firebase.storage().ref(directory + \"/\" + filename);\n            //Upload file\n            let uploadTask = storageRef.put(file);\n            // Listen for state changes, errors, and completion of the upload.\n            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n                null,\n                (error) => {\n                    // A full list of error codes is available at\n                    // https://firebase.google.com/docs/storage/web/handle-errors\n                    switch (error.code) {\n                        case 'storage/unauthorized':\n