(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[48],{686:function(e,t,a){"use strict";a.r(t);var s=a(182),n=a(183),c=a(185),i=a(184),r=a(1),o=a(179),l=a(58),d=a(726),j=a(128),m=a(27),b=d.a.firestore().collection("stories_dev"),h=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onNameChange=function(e){var t=e.currentTarget;n.setState({name:t.value})},n.handleSubmit=function(e){e.preventDefault(),n.setState({isLoading:!0});var t=n.state.name,a=n.props.location.state,s=a.storyID,c=a.seasonIndex;b.doc(s).collection("seasons").add({name:t,index:c+1}).then((function(e){Object(j.d)(j.a.SUCCESS,"Season added successfully!"),n.backToList()})).catch((function(e){Object(j.d)(j.a.ERROR,"Something went wrong. Try again!"),n.setState({isLoading:!1})}))},n.backToList=function(){n.props.history.push({pathname:"/Stories",state:n.props.location.state})},void 0===e.location.state?n.backToList():n.state={isLoading:!1,name:""},n}return Object(n.a)(a,[{key:"render",value:function(){return Object(m.jsx)(m.Fragment,{children:this.state.isLoading?Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(o.Ab,{className:"mt-5",color:"primary",style:{width:"4rem",height:"4rem"}})}):Object(m.jsx)(o.rb,{className:"d-flex justify-content-center",children:Object(m.jsx)(o.u,{xs:"12",md:"6",children:Object(m.jsxs)(o.j,{children:[Object(m.jsx)(o.n,{children:Object(m.jsx)("h2",{children:"Add New Season"})}),Object(m.jsx)(o.k,{children:Object(m.jsxs)(o.J,{onSubmit:this.handleSubmit,className:"form-horizontal",children:[Object(m.jsx)(o.K,{row:!0,className:"d-flex justify-content-center",children:Object(m.jsx)(o.u,{xs:"12",md:"6",children:Object(m.jsx)(o.P,{id:"name",name:"name",type:"text",placeholder:"Name",maxLength:"30",onChange:this.onNameChange,required:!0})})}),Object(m.jsxs)("div",{className:"text-center mt-5",children:[Object(m.jsxs)(o.f,{type:"submit",size:"sm",color:"primary",className:"mr-1 px-3",children:[Object(m.jsx)(l.b,{name:"cil-scrubber"})," Save"]}),Object(m.jsxs)(o.f,{type:"button",onClick:this.backToList,size:"sm",color:"danger",className:"px-3",children:[Object(m.jsx)(l.b,{name:"cil-ban"})," Cancel"]})]})]})})]})})})})}}]),a}(r.Component);t.default=h}}]);
//# sourceMappingURL=48.afce2260.chunk.js.map